(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{75300:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,30347,23)),Promise.resolve().then(a.t.bind(a,24006,23)),Promise.resolve().then(a.bind(a,17106))},31574:(e,t,a)=>{"use strict";a.d(t,{Fr:()=>d,Iy:()=>i,ON:()=>p,Su:()=>u,hG:()=>r,hW:()=>h,l2:()=>l,yV:()=>o,yf:()=>c});var s=a(82651);let n="http://localhost:5000",o=async e=>(await s.A.get("".concat(n,"/api/notes/user/").concat(e))).data,i=async e=>(await s.A.post("".concat(n,"/api/notes"),e)).data,r=async(e,t)=>(await s.A.post("".concat(n,"/api/users"),{id:e,is_anonymous:t})).data,l=async e=>{let t=await s.A.get("".concat(n,"/api/users/").concat(e));return console.log("_fetchUser: ",t.data),t.data},c=async(e,t,a)=>(await s.A.post("".concat(n,"/api/notes/semantic-query"),{query:e,user_id:t,sensitivity:a})).data,d=async(e,t)=>(await s.A.put("".concat(n,"/api/notes/").concat(e),t)).data,u=async e=>{let t=await s.A.put("".concat(n,"/api/notes"),{notes:e});return console.log("_updateNotes: ",t.data),t.data},h=async e=>200===(await s.A.delete("".concat(n,"/api/notes/").concat(e))).status,p=async(e,t)=>{let a=e.map(e=>e.id);return 200===(await s.A.delete("".concat(n,"/api/notes"),{data:{noteIds:a,user_id:t}})).status}},17106:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var s=a(95155),n=a(1277),o=a(48173),i=a.n(o),r=a(76046),l=a(12115),c=a(18281);function d(e){let{isOpen:t,onClose:a,onConfirm:n}=e;return(0,s.jsx)(c.Dialog,{size:"md",open:t,handler:a,className:"fixed inset-0 flex items-center justify-center p-4 text-center bg-black/50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md p-6",children:[(0,s.jsx)(c.DialogHeader,{className:"relative m-0 block",children:(0,s.jsx)(c.Typography,{variant:"h4",color:"blue-gray",children:"Sign Out Confirmation"})}),(0,s.jsxs)(c.DialogBody,{className:"space-y-4 px-2",children:[(0,s.jsx)(c.Typography,{style:{fontSize:"1.75em",lineHeight:"normal",color:"black"},children:"When you sign out, all your notes will be deleted to preserve database storage."}),(0,s.jsx)(c.Typography,{style:{fontSize:"1.25em",lineHeight:"normal",color:"gray-700"},children:"Are you sure you want to continue?"})]}),(0,s.jsxs)(c.DialogFooter,{className:"flex justify-evenly mt-4",children:[(0,s.jsx)(c.Button,{className:"text-lg font-medium px-5 py-2.5 text-white bg-gray-500",onClick:a,children:"Cancel"}),(0,s.jsx)(c.Button,{className:"text-lg font-medium px-5 py-2.5 text-white bg-blue-500",onClick:()=>{a(),n()},children:"Sign Out"})]})]})})}function u(){let{user:e,signOut:t}=(0,n.k)(),a=(0,r.useRouter)(),[o,c]=(0,l.useState)(!1),[u,h]=(0,l.useState)(!1),p=async()=>{await t(),a.push("/auth")},m=()=>{h(!0)};return(0,s.jsxs)("nav",{className:"bg-white shadow-md py-3 px-4 md:px-8",children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[(0,s.jsx)(i(),{href:"/",className:"flex items-center space-x-2",children:(0,s.jsx)("span",{className:"text-xl font-semibold text-gray-800",children:"WhisprNotes"})}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)("button",{onClick:()=>c(!o),className:"text-gray-600 hover:text-gray-900 focus:outline-none",children:(0,s.jsx)("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o?(0,s.jsx)("path",{d:"M6 18L18 6M6 6l12 12"}):(0,s.jsx)("path",{d:"M4 6h16M4 12h16M4 18h16"})})})}),(0,s.jsx)("div",{className:"hidden md:flex items-center space-x-6",children:e&&(0,s.jsx)("button",{onClick:m,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Sign Out"})})]}),o&&(0,s.jsx)("div",{className:"md:hidden mt-3 px-2 pt-2 pb-4 space-y-3",children:e&&(0,s.jsx)("button",{onClick:()=>{m(),c(!1)},className:"block w-full text-left px-3 py-2 text-gray-600 hover:text-blue-500 transition-colors",children:"Sign Out"})}),(0,s.jsx)(d,{isOpen:u,onClose:()=>{h(!1)},onConfirm:p})]})}},73195:(e,t,a)=>{"use strict";a.d(t,{T:()=>s,t:()=>n});let s=["Ok, working on that...","Give me just a sec...","Getting that for you...","I'll get right on that...","Let's see what I can do..."],n=[{title:"JavaScript Basics",content:"Variables, functions, and control flow in JavaScript. Remember to use const for constants and let for variables that change."},{title:"React Hooks Guide",content:"Using useState, useEffect, and custom hooks in React applications. Hooks should always be called at the top level of your components."},{title:"Time Management Tips",content:"Pomodoro technique: Work for 25 minutes, then take a 5-minute break. After 4 pomodoros, take a longer 15-30 minute break."},{title:"Task Prioritization Framework",content:"Use the Eisenhower Matrix to categorize tasks by urgency and importance. Focus on important/urgent tasks first."},{title:"Morning Workout Routine",content:"10 minutes of stretching, 15 push-ups, 20 squats, and 30 seconds of plank. Great way to start the day with energy!"},{title:"Healthy Meal Prep Ideas",content:"Prepare vegetables and proteins in advance. Consider making overnight oats for breakfast and grain bowls for lunch."},{title:"Book Recommendations",content:"Atomic Habits by James Clear, Deep Work by Cal Newport, and The Pragmatic Programmer for software developers."},{title:"Learning Techniques",content:"Spaced repetition and active recall are proven methods to improve long-term retention of information."},{title:"App Development Concepts",content:"A language learning app with spaced repetition or a habit tracker with visualization of progress over time."},{title:"Side Project Checklist",content:"Define clear objectives, set a realistic timeline, choose the right tech stack, and build an MVP before adding features."}]},50080:(e,t,a)=>{"use strict";a.d(t,{B4:()=>n,CI:()=>o});var s=a(11712);let n=async()=>{try{let{data:e,error:t}=await s.N.auth.signInAnonymously();if(t)throw console.error("Supabase auth error:",t),t;return e.user||null}catch(e){throw console.error("Guest sign-in failed:",e),e}},o=async()=>{await s.N.auth.signOut()}},11712:(e,t,a)=>{"use strict";a.d(t,{N:()=>s});let s=(0,a(35974).UU)("https://nbpfnfivsxdzlngwneax.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5icGZuZml2c3hkemxuZ3duZWF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDExODI1NzUsImV4cCI6MjA1Njc1ODU3NX0.owyzNX94eZ39ySfpcINL4zKDfRrmtAVFZxiiJdX4Xxk",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})},89800:(e,t,a)=>{"use strict";a.d(t,{L:()=>c});var s=a(99827),n=a(60709),o=a(31574),i=a(1277),r=a(73195);let l=e=>{switch(e){case"delete_notes":case"delete_all":return"found these notes for deletion";case"edit_notes":return"found these notes for editing";case"create_note":return"created this note";case"request":return"created this content";case"search":return"found these notes";case"show_all":return"shown all your notes";default:return"processed your request"}},c=(0,s.v)()((0,n.lt)(e=>({allNotes:[],aiResponse:"",queryIntent:"",noteListLoading:!1,noteFormLoading:!1,editedNotes:[],deleteModalIsOpen:!1,semanticDeleteModalIsOpen:!1,semanticEditModalIsOpen:!1,noteToDelete:void 0,semanticSensitivity:.24,lastQuery:"",lastSensitivity:.24,potentialDuplicateNote:null,duplicateNoteModalIsOpen:!1,setQueriedNotes:t=>{e(()=>({queriedNotes:t}))},setEditedNotes:t=>{e(()=>({editedNotes:t}))},setNoteListLoading:t=>{e(()=>({noteListLoading:t}))},setNoteFormLoading:t=>{e(()=>({noteFormLoading:t}))},setQueryIntent:t=>{e(()=>({queryIntent:t}))},setDeleteModalState:t=>{e(()=>({deleteModalIsOpen:t}))},setSemanticDeleteModalState:t=>{e(()=>({semanticDeleteModalIsOpen:t}))},setSemanticEditModalState:t=>{e(()=>({semanticEditModalIsOpen:t}))},setNoteToDelete:t=>{e(()=>({noteToDelete:t}))},updateAiResponse:t=>{e(()=>({aiResponse:t}))},setSemanticSensitivity:t=>e({semanticSensitivity:t}),fetchNotes:async t=>{e({noteListLoading:!0}),e({allNotes:[...await (0,o.yV)(t||"")],noteListLoading:!1})},deleteNote:async t=>{console.log(t);try{if(await (0,o.hW)(t))return e(e=>({allNotes:e.allNotes.filter(e=>e.id!==t)})),!0;return console.error("Delete operation failed"),!1}catch(e){return console.error("Error in deleteNote:",e),!1}},deleteNotes:async t=>{let{user:a}=i.k.getState(),s=(null==a?void 0:a.id)||null;await (0,o.ON)(t,s)&&e(e=>({allNotes:e.allNotes.filter(e=>!t.some(t=>e.id===t.id)),semanticDeleteModalIsOpen:!1}))},updateNotes:async t=>{let{notes:a,message:s}=await (0,o.Su)(t);return a.length>0&&(e(e=>({allNotes:e.allNotes.map(e=>a.find(t=>t.id===e.id)||e),queriedNotes:a})),e(e=>({allNotes:[...e.allNotes]})),!0)},updateNote:async(t,a)=>{let{title:s,content:n,user_id:i}=a,r=await (0,o.Fr)(t,{title:s,content:n,user_id:i});e(e=>({allNotes:e.allNotes.map(e=>e.id===t?r:e)}))},semanticQuery:async t=>{let{user:a}=i.k.getState(),{semanticSensitivity:s,lastQuery:n,lastSensitivity:d}=c.getState(),u=(null==a?void 0:a.id)||null,h=t===n&&s===d;try{let a;if(h){let s=c.getState();a={notes:s.allNotes,editedNotes:s.editedNotes,message:"I've already ".concat(l(s.queryIntent),' based on "').concat(t,'". Maybe change the sensitivity?'),intent:s.queryIntent},e({aiResponse:a.message,noteListLoading:!1})}else e({aiResponse:r.T[Math.floor(5*Math.random())],noteListLoading:!0,lastQuery:t,lastSensitivity:s}),(a=await (0,o.yf)(t,u,s))&&(e({allNotes:"create_note"===a.intent?[...c.getState().allNotes,...a.notes]:a.notes,aiResponse:a.message,queryIntent:a.intent,noteListLoading:!1,queriedNotes:a.notes||[],editedNotes:a.editedNotes||[]}),"edit_notes"===a.intent&&a.editedNotes&&a.editedNotes.length>0?e({semanticEditModalIsOpen:!0}):("delete_notes"===a.intent||"delete_all"===a.intent)&&e({semanticDeleteModalIsOpen:!0}))}catch(t){console.error("Error in semantic query:",t),e({aiResponse:"Sorry, I encountered an error processing your request.",noteListLoading:!1})}}})))},1277:(e,t,a)=>{"use strict";a.d(t,{k:()=>l});var s=a(99827),n=a(60709),o=a(50080),i=a(31574),r=a(89800);let l=(0,s.v)()((0,n.lt)((e,t)=>({user:null,loading:!0,setUser:t=>{e(()=>({user:t}))},signOut:async()=>{let{user:a}=t();if(a&&a.id){let e=await (0,i.yV)(a.id);await (0,i.ON)(e,a.id)}await (0,o.CI)(),localStorage.removeItem("guestUserId"),r.L.getState().updateAiResponse(""),e({user:null})},setLoading:t=>{e(()=>({loading:t}))},createUser:async(t,a)=>{await (0,i.hG)(t,a),e(()=>({user:{id:t}}))}})))},30347:()=>{},24006:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[572,601,869,971,173,441,517,358],()=>t(75300)),_N_E=e.O()}]);