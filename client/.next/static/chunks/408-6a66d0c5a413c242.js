"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[408],{31574:(e,t,a)=>{a.d(t,{Fr:()=>d,Iy:()=>i,ON:()=>h,Su:()=>u,hG:()=>r,hW:()=>p,l2:()=>l,yV:()=>s,yf:()=>c});var n=a(82651);let o="http://localhost:5000",s=async e=>(await n.A.get("".concat(o,"/api/notes/user/").concat(e))).data,i=async e=>(await n.A.post("".concat(o,"/api/notes"),e)).data,r=async(e,t)=>(await n.A.post("".concat(o,"/api/users"),{id:e,is_anonymous:t})).data,l=async e=>{let t=await n.A.get("".concat(o,"/api/users/").concat(e));return console.log("_fetchUser: ",t.data),t.data},c=async(e,t,a)=>(await n.A.post("".concat(o,"/api/notes/semantic-query"),{query:e,user_id:t,sensitivity:a})).data,d=async(e,t)=>(await n.A.put("".concat(o,"/api/notes/").concat(e),t)).data,u=async e=>{let t=await n.A.put("".concat(o,"/api/notes"),{notes:e});return console.log("_updateNotes: ",t.data),t.data},p=async e=>200===(await n.A.delete("".concat(o,"/api/notes/").concat(e))).status,h=async(e,t)=>{let a=e.map(e=>e.id);return 200===(await n.A.delete("".concat(o,"/api/notes"),{data:{noteIds:a,user_id:t}})).status}},73195:(e,t,a)=>{a.d(t,{T:()=>n,t:()=>o});let n=["Ok, working on that...","Give me just a sec...","Getting that for you...","I'll get right on that...","Let's see what I can do..."],o=[{title:"JavaScript Basics",content:"Variables, functions, and control flow in JavaScript. Remember to use const for constants and let for variables that change."},{title:"React Hooks Guide",content:"Using useState, useEffect, and custom hooks in React applications. Hooks should always be called at the top level of your components."},{title:"Time Management Tips",content:"Pomodoro technique: Work for 25 minutes, then take a 5-minute break. After 4 pomodoros, take a longer 15-30 minute break."},{title:"Task Prioritization Framework",content:"Use the Eisenhower Matrix to categorize tasks by urgency and importance. Focus on important/urgent tasks first."},{title:"Morning Workout Routine",content:"10 minutes of stretching, 15 push-ups, 20 squats, and 30 seconds of plank. Great way to start the day with energy!"},{title:"Healthy Meal Prep Ideas",content:"Prepare vegetables and proteins in advance. Consider making overnight oats for breakfast and grain bowls for lunch."},{title:"Book Recommendations",content:"Atomic Habits by James Clear, Deep Work by Cal Newport, and The Pragmatic Programmer for software developers."},{title:"Learning Techniques",content:"Spaced repetition and active recall are proven methods to improve long-term retention of information."},{title:"App Development Concepts",content:"A language learning app with spaced repetition or a habit tracker with visualization of progress over time."},{title:"Side Project Checklist",content:"Define clear objectives, set a realistic timeline, choose the right tech stack, and build an MVP before adding features."}]},30408:(e,t,a)=>{a.d(t,{W:()=>r});var n=a(12115),o=a(11712),s=a(1277),i=a(31574);function r(){let{user:e,loading:t,setUser:a,setLoading:r,createUser:l}=(0,s.k)();return(0,n.useEffect)(()=>{if(e){r(!1);return}(async()=>{try{r(!0);let{data:t}=await o.N.auth.getUser();if(t.user)try{let n=await (0,i.l2)(t.user.id);if(!n||n.hasOwnProperty("data")&&null===n.data){var e;let a=(null===(e=t.user.app_metadata)||void 0===e?void 0:e.provider)==="anonymous";await l(t.user.id,a)}a({id:t.user.id})}catch(e){console.error("Error fetching user:",e),a({id:t.user.id})}else{let e=localStorage.getItem("guestUserId");if(e)try{let t=await (0,i.l2)(e);t&&(!t.hasOwnProperty("data")||t.data)?a({id:e}):(localStorage.removeItem("guestUserId"),a(null))}catch(e){console.error("Error fetching guest user:",e),localStorage.removeItem("guestUserId"),a(null)}else a(null)}}catch(e){console.error("Auth initialization error:",e),a(null)}finally{r(!1)}})();let{data:t}=o.N.auth.onAuthStateChange(async(e,t)=>{if(null==t?void 0:t.user){var n;let e=(null===(n=t.user.app_metadata)||void 0===n?void 0:n.provider)==="anonymous";try{let n=await (0,i.l2)(t.user.id);(!n||n.hasOwnProperty("data")&&null===n.data)&&await l(t.user.id,e),a({id:t.user.id}),e&&localStorage.setItem("guestUserId",t.user.id)}catch(e){console.error("Error updating user store:",e)}}else"SIGNED_OUT"===e&&a(null)});return()=>{null==t||t.subscription.unsubscribe()}},[a,r,l]),{user:e,loading:t}}},50080:(e,t,a)=>{a.d(t,{B4:()=>o,CI:()=>s});var n=a(11712);let o=async()=>{try{let{data:e,error:t}=await n.N.auth.signInAnonymously();if(t)throw console.error("Supabase auth error:",t),t;return e.user||null}catch(e){throw console.error("Guest sign-in failed:",e),e}},s=async()=>{await n.N.auth.signOut()}},11712:(e,t,a)=>{a.d(t,{N:()=>n});let n=(0,a(35974).UU)("https://nbpfnfivsxdzlngwneax.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5icGZuZml2c3hkemxuZ3duZWF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDExODI1NzUsImV4cCI6MjA1Njc1ODU3NX0.owyzNX94eZ39ySfpcINL4zKDfRrmtAVFZxiiJdX4Xxk",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})},89800:(e,t,a)=>{a.d(t,{L:()=>c});var n=a(99827),o=a(60709),s=a(31574),i=a(1277),r=a(73195);let l=e=>{switch(e){case"delete_notes":case"delete_all":return"found these notes for deletion";case"edit_notes":return"found these notes for editing";case"create_note":return"created this note";case"request":return"created this content";case"search":return"found these notes";case"show_all":return"shown all your notes";default:return"processed your request"}},c=(0,n.v)()((0,o.lt)(e=>({allNotes:[],aiResponse:"",queryIntent:"",noteListLoading:!1,noteFormLoading:!1,editedNotes:[],deleteModalIsOpen:!1,semanticDeleteModalIsOpen:!1,semanticEditModalIsOpen:!1,noteToDelete:void 0,semanticSensitivity:.24,lastQuery:"",lastSensitivity:.24,potentialDuplicateNote:null,duplicateNoteModalIsOpen:!1,setQueriedNotes:t=>{e(()=>({queriedNotes:t}))},setEditedNotes:t=>{e(()=>({editedNotes:t}))},setNoteListLoading:t=>{e(()=>({noteListLoading:t}))},setNoteFormLoading:t=>{e(()=>({noteFormLoading:t}))},setQueryIntent:t=>{e(()=>({queryIntent:t}))},setDeleteModalState:t=>{e(()=>({deleteModalIsOpen:t}))},setSemanticDeleteModalState:t=>{e(()=>({semanticDeleteModalIsOpen:t}))},setSemanticEditModalState:t=>{e(()=>({semanticEditModalIsOpen:t}))},setNoteToDelete:t=>{e(()=>({noteToDelete:t}))},updateAiResponse:t=>{e(()=>({aiResponse:t}))},setSemanticSensitivity:t=>e({semanticSensitivity:t}),fetchNotes:async t=>{e({noteListLoading:!0}),e({allNotes:[...await (0,s.yV)(t||"")],noteListLoading:!1})},deleteNote:async t=>{console.log(t);try{if(await (0,s.hW)(t))return e(e=>({allNotes:e.allNotes.filter(e=>e.id!==t)})),!0;return console.error("Delete operation failed"),!1}catch(e){return console.error("Error in deleteNote:",e),!1}},deleteNotes:async t=>{let{user:a}=i.k.getState(),n=(null==a?void 0:a.id)||null;await (0,s.ON)(t,n)&&e(e=>({allNotes:e.allNotes.filter(e=>!t.some(t=>e.id===t.id)),semanticDeleteModalIsOpen:!1}))},updateNotes:async t=>{let{notes:a,message:n}=await (0,s.Su)(t);return a.length>0&&(e(e=>({allNotes:e.allNotes.map(e=>a.find(t=>t.id===e.id)||e),queriedNotes:a})),e(e=>({allNotes:[...e.allNotes]})),!0)},updateNote:async(t,a)=>{let{title:n,content:o,user_id:i}=a,r=await (0,s.Fr)(t,{title:n,content:o,user_id:i});e(e=>({allNotes:e.allNotes.map(e=>e.id===t?r:e)}))},semanticQuery:async t=>{let{user:a}=i.k.getState(),{semanticSensitivity:n,lastQuery:o,lastSensitivity:d}=c.getState(),u=(null==a?void 0:a.id)||null,p=t===o&&n===d;try{let a;if(p){let n=c.getState();a={notes:n.allNotes,editedNotes:n.editedNotes,message:"I've already ".concat(l(n.queryIntent),' based on "').concat(t,'". Maybe change the sensitivity?'),intent:n.queryIntent},e({aiResponse:a.message,noteListLoading:!1})}else e({aiResponse:r.T[Math.floor(5*Math.random())],noteListLoading:!0,lastQuery:t,lastSensitivity:n}),(a=await (0,s.yf)(t,u,n))&&(e({allNotes:"create_note"===a.intent?[...c.getState().allNotes,...a.notes]:a.notes,aiResponse:a.message,queryIntent:a.intent,noteListLoading:!1,queriedNotes:a.notes||[],editedNotes:a.editedNotes||[]}),"edit_notes"===a.intent&&a.editedNotes&&a.editedNotes.length>0?e({semanticEditModalIsOpen:!0}):("delete_notes"===a.intent||"delete_all"===a.intent)&&e({semanticDeleteModalIsOpen:!0}))}catch(t){console.error("Error in semantic query:",t),e({aiResponse:"Sorry, I encountered an error processing your request.",noteListLoading:!1})}}})))},1277:(e,t,a)=>{a.d(t,{k:()=>l});var n=a(99827),o=a(60709),s=a(50080),i=a(31574),r=a(89800);let l=(0,n.v)()((0,o.lt)((e,t)=>({user:null,loading:!0,setUser:t=>{e(()=>({user:t}))},signOut:async()=>{let{user:a}=t();if(a&&a.id){let e=await (0,i.yV)(a.id);await (0,i.ON)(e,a.id)}await (0,s.CI)(),localStorage.removeItem("guestUserId"),r.L.getState().updateAiResponse(""),e({user:null})},setLoading:t=>{e(()=>({loading:t}))},createUser:async(t,a)=>{await (0,i.hG)(t,a),e(()=>({user:{id:t}}))}})))}}]);